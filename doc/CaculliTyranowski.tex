\documentclass[11pt]{article}

\usepackage{amsmath}
\usepackage[french, onelanguage]{algorithm2e}
\usepackage[french]{babel}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{tikz}
\usepackage{tocloft}
\usepackage{verbatim}
\usepackage{xcolor}

\usetikzlibrary{calc, shapes.multipart, chains, arrows}

\geometry{
  a4paper,
  total={170mm,257mm},
  left=20mm,
  top=20mm,
}

\definecolor{RoyalBlue}{cmyk}{1, 0.50, 0, 0}

\lstset{language=C,
  keywordstyle=\color{RoyalBlue},
  basicstyle=\scriptsize\ttfamily,
  commentstyle=\ttfamily\itshape\color{gray},
  stringstyle=\ttfamily,
  breaklines=true,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=4,
  autogobble=true
}

\title{Documentation Mini Projet Langage C}
\author{Caculli Giorgio \& Jedrzej Tyranowski}
\date{\today}

\begin{document}

\maketitle
\begin{abstract}
\end{abstract}

\newpage
\tableofcontents

\newpage
\section{Introduction}
\subsection{Le langage C}
\subsection{Fonctions générales utilisées}
\subsubsection{Qu'est-ce l'allocation de mémoire dynamique?}
\subsubsection{Qu'est-ce \texttt{malloc()}}
\subsubsection{Qu'est-ce \texttt{calloc()}}
\subsubsection{Pourquoi utiliser \texttt{calloc()}}
\subsubsection{Pourquoi utiliser \texttt{malloc()}}
\subsubsection{Syntaxe de \texttt{calloc()}}
\subsubsection{Exemples de \texttt{calloc()}}
\subsubsection{Syntaxe de \texttt{malloc()}}
\subsubsection{Exemples de \texttt{malloc()}}
\subsubsection{Differences entre \texttt{calloc()} et \texttt{malloc()}}

\newpage
\section{Listes chaînées}
\begin{tikzpicture}[list/.style={
      rectangle split,
      rectangle split parts=2,
      draw,
      rectangle split horizontal
    },
    >=stealth,
    start chain]

  \node[list,on chain] (A) {12};
  \node[list,on chain] (B) {99};
  \node[list,on chain] (C) {37};
  \node[on chain,draw,inner sep=6pt] (D) {};
  \draw (D.north east) -- (D.south west);
  \draw (D.north west) -- (D.south east);
  \draw[*->] let \p1 = (A.two), \p2 = (A.center) in (\x1,\y2) -- (B);
  \draw[*->] let \p1 = (B.two), \p2 = (B.center) in (\x1,\y2) -- (C);
  \draw[*->] let \p1 = (C.two), \p2 = (C.center) in (\x1,\y2) -- (D);
\end{tikzpicture}

\subsection{Création d'un nouveau n\oe{}ud}
\subsection{Insertion d'un n\oe{}ud dans une liste chaînée}
\subsection{Suppression d'un n\oe{}ud d'une liste chaînée}
\subsection{Affichage d'une liste chaînée}

\newpage
\section{Énoncé}

\newpage
\section{Programme}
\subsection{Mode d'emploi}

\newpage
\section{Code}
\subsection{Structures}

\begin{lstlisting}
  typedef struct personne
  {
    int id;
    char nom[25];
    char prenom[25];
    int formateur;
    int nb_formations;
    int formations[30];
    int nb_jours_indisponible;
    int jours_indisponible[7];
    int reduction;
    int val_reduction;
  } personne;
\end{lstlisting}

\begin{lstlisting}
  typedef struct noeud_db_personne
  {
    personne *p;
    struct noeud_db_personne *next;
  } noeud_db_personne;
\end{lstlisting}

\begin{lstlisting}
  typedef struct db_personne
  {
    noeud_db_personne *head;
  } db_personne;
\end{lstlisting}

\begin{lstlisting}
  typedef struct noeud_formation
  {
    personne *p;
    struct noeud_formation *next;
  } noeud_formation;
\end{lstlisting}

\begin{lstlisting}
  typedef struct formation
  {
    int id;
    char nom[40];
    float prix;
    int nb_jours;
    int jours[7];
    float heures[24];
    float durees[10];
    int nb_prerequis;
    int prerequis[10];
    noeud_formation *head;
  } formation;
\end{lstlisting}

\begin{lstlisting}
  typedef struct noeud_db_formation
  {
    formation *f;
    struct noeud_db_formation *next;
  } noeud_db_formation;
\end{lstlisting}

\begin{lstlisting}
  typedef struct db_formation
  {
    noeud_db_formation *head;
  } db_formation;
\end{lstlisting}

\newpage
\subsection{Fonctions}

\begin{lstlisting}
  personne *creer_personne( char nom[], char prenom[], int formateur );
\end{lstlisting}

\begin{lstlisting}
  void afficher_personne( personne *p );
\end{lstlisting}

\begin{lstlisting}
  db_personne *creer_db_personne();
\end{lstlisting}

\begin{lstlisting}
  void ajouter_db_personne( db_personne *db, personne *p );
\end{lstlisting}

\begin{lstlisting}
  int supprimer_db_personne( db_personne *dbp, int id );
\end{lstlisting}

\begin{lstlisting}
  void afficher_db_personne( db_personne *db );
\end{lstlisting}

\begin{lstlisting}
  personne *get_personne( db_personne *db, char nom[], char prenom[], int formateur );
\end{lstlisting}

\begin{lstlisting}
  formation *creer_formation( char nom[], float prix );
\end{lstlisting}

\begin{lstlisting}
  int ajouter_formation( formation *f, personne *p );
\end{lstlisting}

\begin{lstlisting}
  int supprimer_personne_de_formation( formation *f, int id );
\end{lstlisting}

\begin{lstlisting}
  void afficher_formation( formation *f );
\end{lstlisting}

\begin{lstlisting}
  db_formation *creer_db_formation();
\end{lstlisting}

\begin{lstlisting}
  void ajouter_db_formation( db_formation *db, formation *f );
\end{lstlisting}

\begin{lstlisting}
  int supprimer_db_formation( db_formation *dbf, int id );
\end{lstlisting}

\begin{lstlisting}
  formation *get_formation( db_formation *dbf, char nom_formation[] );
\end{lstlisting}

\begin{lstlisting}
  void afficher_db_formation( db_formation *dbf );
\end{lstlisting}

\begin{lstlisting}
  void menu_creer_formation( db_formation *f );
\end{lstlisting}

\begin{lstlisting}
  void menu_creer_personne( db_personne *p );
\end{lstlisting}

\begin{lstlisting}
  int menu_creer( db_formation *f, db_personne *p );
\end{lstlisting}

\begin{lstlisting}
  void menu_ajouter_formation( db_formation *f, db_personne *p );
\end{lstlisting}

\begin{lstlisting}
  void menu_supprimer_personne( db_formation *dbf, db_personne *dbp );
\end{lstlisting}

\begin{lstlisting}
  void menu_supprimer_formation( db_formation *dbf, db_personne *dbp );
\end{lstlisting}

\begin{lstlisting}
  int menu_supprimer_personne_de_formation( db_formation *dbf );
\end{lstlisting}

\begin{lstlisting}
  int menu_supprimer( db_formation *dbf, db_personne *dbp );
\end{lstlisting}

\begin{lstlisting}
  int menu_affichage( db_formation *f, db_personne *p );
\end{lstlisting}

\begin{lstlisting}
  int menu( db_formation *f, db_personne *p );
\end{lstlisting}

\begin{lstlisting}
  int main( void );
\end{lstlisting}

\end{document}
